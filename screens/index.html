<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>simple todo</title>

  <!-- Fonts -->
  <link
    href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500&family=Inter:wght@400&display=swap"
    rel="stylesheet"
  />

  <style>
    /* ===========================================================
       simple-todo — Midnight Orchid
       All values from docs/design/design-spec.md
       =========================================================== */

    /* --- Custom Properties --- */
    :root {
      --color-background: #09090f;
      --color-card-surface: #1a1a24;
      --color-card-border: rgba(255, 255, 255, 0.12);
      --color-primary: #7c3aed;
      --color-primary-light: #a78bfa;
      --color-text: #e4e0ec;
      --color-text-muted: rgba(228, 224, 236, 0.5);
      --color-glow: rgba(124, 58, 237, 0.25);

      --font-display: "Playfair Display", Georgia, serif;
      --font-ui: "Inter", system-ui, sans-serif;
      --font-weight-display: 500;
      --font-weight-ui: 400;

      --text-xs: 11px;
      --text-sm: 13px;
      --text-base: 15px;
      --text-lg: 18px;

      --space-1: 4px;
      --space-2: 8px;
      --space-3: 12px;
      --space-4: 16px;
      --space-5: 20px;
      --space-6: 24px;
      --space-8: 32px;

      --radius-sm: 8px;
      --radius-md: 12px;
      --radius-lg: 24px;
      --radius-full: 9999px;

      --shadow-glow: 0 0 80px 20px rgba(124, 58, 237, 0.25);
      --backdrop-blur-card: blur(16px);

      --duration-fast: 150ms;
      --duration-base: 250ms;
      --easing-smooth: ease-in-out;

      --card-width: 240px;
    }

    /* --- Reset --- */
    *, *::before, *::after {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      height: 100%;
      width: 100%;
      font-family: var(--font-ui);
      font-weight: var(--font-weight-ui);
      font-size: var(--text-base);
      line-height: 1.6;
      color: var(--color-text);
      background-color: var(--color-background);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* --- Page Layout --- */
    .page {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
    }

    /* --- Card Glow --- */
    .card-glow-wrap {
      position: relative;
    }

    .card-glow-wrap::before {
      content: "";
      position: absolute;
      inset: -20px;
      border-radius: var(--radius-lg);
      background: radial-gradient(circle, var(--color-glow) 0%, transparent 70%);
      z-index: 0;
      pointer-events: none;
    }

    /* --- Card --- */
    .card {
      position: relative;
      z-index: 1;
      width: var(--card-width);
      padding: var(--space-4) var(--space-3);
      background-color: var(--color-card-surface);
      backdrop-filter: var(--backdrop-blur-card);
      -webkit-backdrop-filter: var(--backdrop-blur-card);
      border: 1px solid var(--color-card-border);
      border-radius: var(--radius-lg);
      animation: border-cycle 2.5s var(--easing-smooth) infinite;
      transition: box-shadow var(--duration-base) var(--easing-smooth);
    }

    .card:hover {
      box-shadow: 0 0 40px 8px rgba(124, 58, 237, 0.15);
    }

    .card:focus-within {
      box-shadow: 0 0 0 2px var(--color-background), 0 0 0 4px var(--color-primary-light);
    }

    @keyframes border-cycle {
      0%, 100% { border-color: var(--color-primary); }
      50% { border-color: var(--color-primary-light); }
    }

    /* --- Input Area --- */
    .input-area {
      display: flex;
      gap: var(--space-2);
      align-items: center;
    }

    .todo-input {
      flex: 1;
      background: transparent;
      border: none;
      border-bottom: 1px solid var(--color-card-border);
      padding: var(--space-2) 0;
      font-family: var(--font-ui);
      font-weight: var(--font-weight-ui);
      font-size: var(--text-sm);
      line-height: 1.5;
      color: var(--color-text);
      outline: none;
      transition: border-color var(--duration-fast) var(--easing-smooth);
    }

    .todo-input::placeholder {
      color: var(--color-text-muted);
    }

    .todo-input:focus {
      border-bottom-color: var(--color-primary);
    }

    /* Hidden when a todo exists */
    .input-area.hidden {
      display: none;
    }

    /* --- Submit Button --- */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: var(--space-2);
      padding: var(--space-2) var(--space-3);
      min-height: 32px;
      font-family: var(--font-ui);
      font-weight: var(--font-weight-ui);
      font-size: var(--text-sm);
      line-height: 1.5;
      color: var(--color-text);
      white-space: nowrap;
      background-color: var(--color-primary);
      border: none;
      border-radius: var(--radius-md);
      cursor: pointer;
      transition: background-color var(--duration-fast) var(--easing-smooth),
                  box-shadow var(--duration-fast) var(--easing-smooth),
                  transform var(--duration-fast) var(--easing-smooth),
                  opacity var(--duration-fast) var(--easing-smooth);
    }

    .btn:hover:not(:disabled) {
      background-color: var(--color-primary-light);
    }

    .btn:focus-visible {
      outline: none;
      box-shadow: 0 0 0 2px var(--color-background), 0 0 0 4px var(--color-primary-light);
    }

    .btn:active:not(:disabled) {
      background-color: #6d28d9;
      transform: scale(0.97);
    }

    .btn:disabled {
      opacity: 0.4;
      cursor: not-allowed;
    }

    /* --- Circular Delete Button --- */
    .btn--circle {
      width: 28px;
      height: 28px;
      min-height: 28px;
      padding: 0;
      border-radius: var(--radius-full);
      font-size: var(--text-base);
      flex-shrink: 0;
    }

    .btn--circle:hover:not(:disabled) {
      animation: pulse-gentle 1.5s var(--easing-smooth) infinite;
      background-color: var(--color-primary-light);
    }

    @keyframes pulse-gentle {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }

    /* --- Checkbox --- */
    .checkbox {
      width: 20px;
      height: 20px;
      flex-shrink: 0;
      border-radius: var(--radius-full);
      border: 2px solid var(--color-primary);
      background: transparent;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0;
      transition: background-color var(--duration-fast) var(--easing-smooth),
                  border-color var(--duration-fast) var(--easing-smooth);
    }

    .checkbox:hover {
      border-color: var(--color-primary-light);
      background-color: rgba(124, 58, 237, 0.15);
    }

    .checkbox:focus-visible {
      outline: none;
      box-shadow: 0 0 0 2px var(--color-background), 0 0 0 4px var(--color-primary-light);
    }

    .checkbox.checked {
      background-color: var(--color-primary);
      border-color: var(--color-primary);
    }

    .checkbox .check-icon {
      display: none;
      width: 10px;
      height: 10px;
    }

    .checkbox.checked .check-icon {
      display: block;
    }

    /* --- Todo Item --- */
    .todo-item {
      display: flex;
      align-items: center;
      gap: var(--space-2);
      padding-top: var(--space-3);
    }

    .todo-item.hidden {
      display: none;
    }

    .todo-text {
      flex: 1;
      font-family: var(--font-display);
      font-weight: var(--font-weight-display);
      font-size: var(--text-lg);
      line-height: 1.5;
      color: var(--color-text);
      word-break: break-word;
      transition: opacity var(--duration-fast) var(--easing-smooth);
    }

    .todo-text.completed {
      text-decoration: line-through;
      opacity: 0.55;
    }

    /* --- Divider --- */
    .divider {
      width: 100%;
      height: 1px;
      background-color: var(--color-card-border);
      margin-top: var(--space-3);
    }

    .divider.hidden {
      display: none;
    }

    /* --- Empty State --- */
    .empty-hint {
      text-align: center;
      font-size: var(--text-xs);
      color: var(--color-text-muted);
      padding-top: var(--space-3);
    }

    .empty-hint.hidden {
      display: none;
    }
  </style>
</head>
<body>
  <main class="page">
    <div class="card-glow-wrap">
      <div class="card">
        <!-- Input Area (hidden when todo exists) -->
        <form class="input-area" id="todo-form">
          <input
            type="text"
            class="todo-input"
            id="todo-input"
            placeholder="What is the one thing?"
            autocomplete="off"
            maxlength="120"
          />
          <button type="submit" class="btn" id="add-btn">+</button>
        </form>

        <!-- Divider -->
        <div class="divider hidden" id="divider"></div>

        <!-- Todo Item (hidden when empty) -->
        <div class="todo-item hidden" id="todo-item">
          <button
            class="checkbox"
            id="checkbox"
            type="button"
            aria-label="Mark as complete"
          >
            <svg class="check-icon" viewBox="0 0 10 10" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <polyline points="1.5,5.5 4,8 8.5,2.5" />
            </svg>
          </button>
          <span class="todo-text font-display" id="todo-text"></span>
          <button
            class="btn btn--circle"
            id="delete-btn"
            type="button"
            aria-label="Delete todo"
          >×</button>
        </div>

        <!-- Empty hint -->
        <p class="empty-hint" id="empty-hint">Your one thing goes here.</p>
      </div>
    </div>
  </main>

  <script>
    const STORAGE_KEY = "simple-todo";

    const form = document.getElementById("todo-form");
    const input = document.getElementById("todo-input");
    const addBtn = document.getElementById("add-btn");
    const divider = document.getElementById("divider");
    const todoItem = document.getElementById("todo-item");
    const todoText = document.getElementById("todo-text");
    const checkbox = document.getElementById("checkbox");
    const deleteBtn = document.getElementById("delete-btn");
    const emptyHint = document.getElementById("empty-hint");

    function loadTodo() {
      try {
        const raw = localStorage.getItem(STORAGE_KEY);
        return raw ? JSON.parse(raw) : null;
      } catch {
        return null;
      }
    }

    function saveTodo(todo) {
      if (todo === null) {
        localStorage.removeItem(STORAGE_KEY);
      } else {
        localStorage.setItem(STORAGE_KEY, JSON.stringify(todo));
      }
    }

    function render(todo) {
      if (todo) {
        form.classList.add("hidden");
        divider.classList.remove("hidden");
        todoItem.classList.remove("hidden");
        emptyHint.classList.add("hidden");

        todoText.textContent = todo.text;

        if (todo.completed) {
          todoText.classList.add("completed");
          checkbox.classList.add("checked");
        } else {
          todoText.classList.remove("completed");
          checkbox.classList.remove("checked");
        }
      } else {
        form.classList.remove("hidden");
        divider.classList.add("hidden");
        todoItem.classList.add("hidden");
        emptyHint.classList.remove("hidden");

        input.value = "";
        input.focus();
      }
    }

    /* Create */
    form.addEventListener("submit", (e) => {
      e.preventDefault();
      const text = input.value.trim();
      if (!text) return;

      const current = loadTodo();
      if (current) return;

      const todo = { text, completed: false };
      saveTodo(todo);
      render(todo);
    });

    /* Toggle complete */
    checkbox.addEventListener("click", () => {
      const todo = loadTodo();
      if (!todo) return;
      todo.completed = !todo.completed;
      saveTodo(todo);
      render(todo);
    });

    /* Delete */
    deleteBtn.addEventListener("click", () => {
      saveTodo(null);
      render(null);
    });

    /* Initial render */
    render(loadTodo());
  </script>
</body>
</html>
